{"ast":null,"code":"var _jsxFileName = \"/home/anish/Documents/reduxDemo/rr-auth-frontend/src/Pages/login.js\";\nimport './login.css';\nimport React, { useState, useEffect, Component } from 'react';\nimport { useDispatch, connect } from 'react-redux';\nimport userActions from '../redux/action';\nimport { useHistory } from 'react-router';\nimport { LoginVerify } from '../services/GetUserList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uname: \"\",\n      psw: \"\",\n      validationMsg: {},\n      namerror: \"\",\n      passerror: \"\"\n    };\n    const history = useHistory(); //bind the function context\n\n    this.onUserNameChange = this.onUserNameChange.bind(this);\n    this.onPasswordeChange = this.onPasswordeChange.bind(this);\n    this.login = this.login.bind(this);\n  }\n\n  componentWillMount() {}\n\n  componentWillReceiveProps(nextProps) {\n    // alert(\"Password expired \"+nextProps.isPasswordExpired);\n    if (!nextProps.userLoginREsponse.success) {\n      alert(nextProps.userLoginREsponse.message);\n      history.push(\"/\"); //this.props.history.push(\"/Password-Reset\");\n    } else {\n      alert(\"your login credentional does not match\");\n    }\n  }\n\n  onUserNameChange(e) {\n    this.setState({\n      uname: e.target.value\n    });\n  }\n\n  onPasswordeChange(e) {\n    this.setState({\n      psw: e.target.value\n    });\n  }\n\n  handleValidation() {\n    let valid = true;\n    let error = {};\n\n    if (this.state.uname === \"\") {\n      valid = false;\n      document.getElementById(\"nameerror\").style.display = \"block\";\n      this.setState({\n        namerror: \"Can't leave empty !\"\n      });\n      return valid;\n    }\n\n    if (this.state.psw === \"\") {\n      valid = false;\n      document.getElementById(\"passerror\").style.display = \"block\";\n      this.setState({\n        passerror: \"Can't leave empty !\"\n      });\n      return valid;\n    }\n\n    return valid;\n  }\n\n  login(e) {\n    e.preventDefault();\n    let loginData = {};\n    loginData.userName = this.state.uname;\n    loginData.password = this.state.psw;\n\n    if (this.handleValidation()) {\n      this.props.dispatch(userActions.loginUserToDB(loginData)); //this.props.dispatch(ThirdPartyList());\n    }\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    let loginFailErrorMessage = \"\";\n\n    if (this.props.loginFailError === false) {\n      loginFailErrorMessage = this.props.errorMessage;\n    } else {} // controlled form functions\n    // const handleSubmit = e => {\n    //   e.preventDefault();\n    //   dispatch(userActions.loginUserToDB(loginForm));\n    //   props.history.push('/');\n    //   console.log(loginForm);\n    // };\n    // const handleClick = e =>{\n    //   e.preventDefault();\n    //   props.history.push('/signup');\n    // }\n    // const handleChange = e =>\n    //   setLoginForm({ ...loginForm, [e.target.name]: e.target.value });\n    // // Destructuring keys from our local state to use in the form\n    // const { username, password } = loginForm;\n    // Component code\n\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loginPage\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"loginform\",\n        onSubmit: this.login,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://icons.iconarchive.com/icons/papirus-team/papirus-status/512/avatar-default-icon.png\",\n          style: {\n            \"width\": \"80px\",\n            \"height\": \"70px\",\n            \"margin-top\": \"20px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 175\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Login Here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          value: this.state.uname,\n          onChange: this.onUserNameChange,\n          placeholder: \"Enter your PhoneNumber\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"nameerror\",\n          children: this.state.namerror\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Enter your password\",\n          value: this.state.psw,\n          onChange: this.onPasswordeChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"nameerror\",\n          children: this.state.passerror\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 60\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"loginerror\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: loginFailErrorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 28\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 8\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          children: \"Don't Have an Account?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userLoginREsponse: state.loginReducer.userLoginREsponse\n  };\n};\n\nexport default connect(mapStateToProps)(Login);","map":{"version":3,"sources":["/home/anish/Documents/reduxDemo/rr-auth-frontend/src/Pages/login.js"],"names":["React","useState","useEffect","Component","useDispatch","connect","userActions","useHistory","LoginVerify","Login","constructor","props","state","uname","psw","validationMsg","namerror","passerror","history","onUserNameChange","bind","onPasswordeChange","login","componentWillMount","componentWillReceiveProps","nextProps","userLoginREsponse","success","alert","message","push","e","setState","target","value","handleValidation","valid","error","document","getElementById","style","display","preventDefault","loginData","userName","password","dispatch","loginUserToDB","render","classes","loginFailErrorMessage","loginFailError","errorMessage","mapStateToProps","loginReducer"],"mappings":"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","sourcesContent":["import './login.css';\nimport React, { useState, useEffect,Component} from 'react';\nimport { useDispatch, connect } from 'react-redux';\nimport userActions from '../redux/action';\nimport { useHistory } from 'react-router';\nimport { LoginVerify } from '../services/GetUserList';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props)\n   \n    this.state = {\n      uname: \"\",\n      psw: \"\",\n      validationMsg: {},\n      namerror:\"\",\n      passerror:\"\"\n    }\n    const history = useHistory();\n    //bind the function context\n    this.onUserNameChange = this.onUserNameChange.bind(this);\n    this.onPasswordeChange = this.onPasswordeChange.bind(this);\n    this.login = this.login.bind(this);\n  }\n \n  componentWillMount() {\n\n  }\n  componentWillReceiveProps(nextProps){\n   // alert(\"Password expired \"+nextProps.isPasswordExpired);\n  \n    if(!nextProps.userLoginREsponse.success){\n      alert(nextProps.userLoginREsponse.message);\n      history.push(\"/\");\n      //this.props.history.push(\"/Password-Reset\");\n    }else{\n      alert(\"your login credentional does not match\");\n    }\n    \n  }\n\n  onUserNameChange(e) {\n\n      \n      this.setState({ uname: e.target.value })\n\n}\n\n  onPasswordeChange(e) {\n  \n\n      \n    this.setState({ psw: e.target.value })\n\n}\n\n  handleValidation() {\n    let valid = true;\n    let error = {}\n\n    if (this.state.uname === \"\") {\n      valid = false;\n      document.getElementById(\"nameerror\").style.display=\"block\";\n      this.setState({ namerror: \"Can't leave empty !\" });      \n      return valid;\n    } \n    if (this.state.psw === \"\") {\n      valid = false;\n      document.getElementById(\"passerror\").style.display=\"block\";\n      this.setState({ passerror: \"Can't leave empty !\" });\n      return valid;\n    }\n  \n    return valid;\n  }\n\n  login(e) {\n    e.preventDefault();\n    let loginData = {}\n    loginData.userName = this.state.uname;\n    loginData.password = this.state.psw;\n    if (this.handleValidation()) {\n      this.props.dispatch(userActions.loginUserToDB(loginData));\n      //this.props.dispatch(ThirdPartyList());\n      \n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    let loginFailErrorMessage = \"\";\n    if (this.props.loginFailError === false) {\n      loginFailErrorMessage = this.props.errorMessage;\n    }else{\n\n    }\n\n  // controlled form functions\n  // const handleSubmit = e => {\n  //   e.preventDefault();\n  //   dispatch(userActions.loginUserToDB(loginForm));\n    \n  //   props.history.push('/');\n  //   console.log(loginForm);\n  // };\n\n  // const handleClick = e =>{\n  //   e.preventDefault();\n  //   props.history.push('/signup');\n  // }\n\n  // const handleChange = e =>\n  //   setLoginForm({ ...loginForm, [e.target.name]: e.target.value });\n  // // Destructuring keys from our local state to use in the form\n  // const { username, password } = loginForm;\n\n\n  // Component code\n  return (\n    <div className=\"loginPage\">\n      <form id=\"loginform\" onSubmit={this.login}>\n      <img src=\"https://icons.iconarchive.com/icons/papirus-team/papirus-status/512/avatar-default-icon.png\" style={{\"width\":\"80px\", \"height\":\"70px\", \"margin-top\":\"20px\"}} /><br/>\n      <h1> Login Here</h1>\n      <input\n        type=\"text\"\n        name=\"username\"\n        value={this.state.uname} \n        onChange={this.onUserNameChange}\n        placeholder=\"Enter your PhoneNumber\"\n      /><span id=\"nameerror\">{this.state.namerror}</span>\n      <br/>\n\n    \n      \n       <input\n        type=\"password\"\n        name=\"password\"\n        placeholder=\"Enter your password\"\n        value={this.state.psw} \n        onChange={this.onPasswordeChange}\n       /><span id=\"nameerror\">{this.state.passerror}</span><br/>\n      <div id=\"loginerror\"><span >{loginFailErrorMessage}</span></div>\n       <button \n       type=\"submit\">\n        Submit\n      </button> <br />\n      <a href = \"#\" >Don't Have an Account?</a>\n     \n    </form>\n       \n   </div>\n    \n    \n  );\n};\n}\nconst mapStateToProps = (state) => {\n  return {\n    userLoginREsponse: state.loginReducer.userLoginREsponse,\n  }\n}\n\nexport default \n  connect(mapStateToProps)\n(Login);\n\n\n\n"]},"metadata":{},"sourceType":"module"}