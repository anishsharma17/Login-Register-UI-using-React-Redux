{"ast":null,"code":"import { getAllUsersList } from '../services/GetUserList';\nimport { createUsers } from '../services/GetUserList';\nconst BASE_URL = 'http://localhost:4000';\nconst USERS_URL = BASE_URL + '/create';\nconst PERSIST_URL = BASE_URL + '/verifyOtp';\nconst LOGIN_URL = BASE_URL + '/login';\n\nconst SPECIFIC_USER_URL = id => USERS_URL + '/' + id; //Redux Action \n\n\n_c = SPECIFIC_USER_URL;\n\nconst setUserAction = userObj => ({\n  type: 'SET_USER',\n  payload: userObj\n});\n\nconst clearUserAction = () => ({\n  type: 'CLEAR_USER'\n}); //Redux Action \n\n\nconst setUserList = languageResponse => ({\n  type: 'SET_LANGUAGE_LIST_RESPONSE',\n  payload: languageResponse\n}); //\n//Fetch\n\n\nconst getAllLanguagesAction = () => dispatch => {\n  getAllLanguages().then(function (response) {\n    dispatch(setLanguageList(response));\n    console.log(response);\n  });\n};\n\nconst setLanguageList = languageResponse => ({\n  type: 'SET_LANGUAGE_LIST_RESPONSE',\n  payload: languageResponse\n}); //Fetch\n\n\nconst newUserToDB = () => dispatch => {\n  createUsers().then(r => r.json()).then(data => {\n    dispatch(setUserAction(data.user));\n    console.log(data);\n  });\n};\n\nconst deleteUserFromDB = userId => dispatch => {\n  const config = {\n    method: 'DELETE'\n  };\n  fetch(SPECIFIC_USER_URL(userId), config).then(r => {\n    dispatch(clearUserAction());\n    localStorage.clear();\n  });\n};\n\nconst loginUserToDB = userCredentials => dispatch => {\n  const config = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(userCredentials)\n  };\n  fetch(LOGIN_URL, config).then(r => r.json()).then(data => {\n    dispatch(setUserAction(data.user));\n    localStorage.setItem('token', data.token);\n  });\n};\n\nconst persistUser = () => dispatch => {\n  const config = {\n    method: 'GET',\n    headers: {\n      Authorization: `bearer ` + localStorage.token\n    }\n  };\n  fetch(PERSIST_URL, config).then(r => r.json()).then(userInstance => {\n    dispatch(setUserAction(userInstance));\n  });\n};\n\nconst logoutUser = () => dispatch => {\n  dispatch(clearUserAction());\n  localStorage.clear();\n};\n\nexport default {\n  newUserToDB,\n  deleteUserFromDB,\n  loginUserToDB,\n  persistUser,\n  logoutUser,\n  getAllLanguagesAction\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"SPECIFIC_USER_URL\");","map":{"version":3,"sources":["/home/anish/Documents/reduxDemo/rr-auth-frontend/src/redux/action.js"],"names":["getAllUsersList","createUsers","BASE_URL","USERS_URL","PERSIST_URL","LOGIN_URL","SPECIFIC_USER_URL","id","setUserAction","userObj","type","payload","clearUserAction","setUserList","languageResponse","getAllLanguagesAction","dispatch","getAllLanguages","then","response","setLanguageList","console","log","newUserToDB","r","json","data","user","deleteUserFromDB","userId","config","method","fetch","localStorage","clear","loginUserToDB","userCredentials","headers","body","JSON","stringify","setItem","token","persistUser","Authorization","userInstance","logoutUser"],"mappings":"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","sourcesContent":["import {getAllUsersList} from '../services/GetUserList'\nimport { createUsers } from '../services/GetUserList';\nconst BASE_URL = 'http://localhost:4000';\nconst USERS_URL = BASE_URL + '/create';\nconst PERSIST_URL = BASE_URL + '/verifyOtp';\nconst LOGIN_URL = BASE_URL + '/login';\nconst SPECIFIC_USER_URL = id => USERS_URL + '/' + id;\n\n\n//Redux Action \nconst setUserAction = (userObj) =>({\n    type: 'SET_USER',\n    payload:userObj\n});\nconst clearUserAction= ()=>({\n  type:'CLEAR_USER'\n});\n\n//Redux Action \nconst setUserList = (languageResponse) =>({\n  type: 'SET_LANGUAGE_LIST_RESPONSE',\n  payload:languageResponse\n});\n\n\n\n\n//\n//Fetch\nconst getAllLanguagesAction = () =>dispatch =>{\n\n  getAllLanguages().then( function(response){\n    \n    dispatch(setLanguageList(response));\n    console.log(response)\n  })\n  \n};\n\nconst setLanguageList = (languageResponse) =>({\n  type: 'SET_LANGUAGE_LIST_RESPONSE',\n  payload:languageResponse\n});\n\n//Fetch\nconst newUserToDB = () =>dispatch =>{\n    \n    createUsers()\n    .then(r => r.json ())\n    .then(data =>{\n        dispatch(setUserAction(data.user));\n        console.log(data)\n    });\n};\nconst deleteUserFromDB = userId => dispatch => {\n    const config = {\n      method: 'DELETE'\n    };\n    fetch(SPECIFIC_USER_URL(userId), config).then(r => {\n      dispatch(clearUserAction());\n      localStorage.clear();\n    });\n  };\n  \n  const loginUserToDB = userCredentials => dispatch => {\n    const config = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userCredentials)\n    };\n    fetch(LOGIN_URL, config)\n      .then(r => r.json())\n      .then(data => {\n        dispatch(setUserAction(data.user));\n        localStorage.setItem('token', data.token);\n      });\n  };\n  \n  const persistUser = () => dispatch => {\n    const config = {\n      method: 'GET',\n      headers: {\n        Authorization: `bearer ` + localStorage.token\n      }\n    };\n    fetch(PERSIST_URL, config)\n      .then(r => r.json())\n      .then(userInstance => {\n        dispatch(setUserAction(userInstance));\n      });\n  };\n  \n  const logoutUser = () => dispatch => {\n    dispatch(clearUserAction());\n    localStorage.clear();\n  };\n  \n  export default {\n    newUserToDB,\n    deleteUserFromDB,\n    loginUserToDB,\n    persistUser,\n    logoutUser,\n    getAllLanguagesAction\n  };"]},"metadata":{},"sourceType":"module"}